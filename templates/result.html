<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kết quả - Vocab Suggester</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>

  <body class="bg-light">
    <div class="container py-4 fade-in">

      <a href="{{ url_for('index') }}">&larr; Quay lại</a>
      <h1 class="mt-2">Kết quả gợi ý</h1>

      <!-- Sentence card -->
      <div class="card my-3">
        <div class="card-body">
          <p>
            <strong>Câu:</strong>
            <span id="sentence-text" data-focus="{{ focus }}">
              {{ sentence }}
            </span>
          </p>
          <p><strong>Từ mục tiêu:</strong> {{ focus }}</p>
        </div>
      </div>

      <h4>Gợi ý (sắp xếp theo điểm tổng hợp)</h4>

      <table class="table table-striped align-middle">
        <thead class="table-info">
          <tr>
            <th>#</th>
            <th>Từ</th>
            <th>Điểm ngữ cảnh</th>
            <th>Zipf</th>
            <th>CEFR</th>
            <th>Độ phức tạp</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          {% for row in df %}
          <tr>
            <td>{{ loop.index }}</td>
            <td class="fw-semibold">{{ row.word }}</td>
            <td>{{ row.context_score }}</td>
            <td>{{ row.zipf }}</td>
            <td>
              <span class="badge bg-success">{{ row.CEFR }}</span>
            </td>
            <td>{{ row.complexity }}</td>
            <td>
              <button
                class="btn btn-sm btn-outline-success replace-word"
                data-word="{{ row.word }}">
                Thay thế
              </button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <hr>
      <p class="text-muted text-center">© Vocab Suggester</p>
    </div>

    <!-- JS -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>